<!DOCTYPE html>

<html class="no-js">

<head>
    <script src="https://use.fontawesome.com/55529beb09.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase-messaging.js"></script>
    <script src="js/database.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Thompson Thrift Data Architecture</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.1/css/foundation.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/projectPage.css" />




</head>

<body>

    <div id="PageHeader">
        <a href="index.html">
            <div>
                <a href="addProjectPage.html"><button class="button" id="AddProjectButton">New Project</button></a>
                <button class="button" id="BackButton" onclick="goBack()">Go Back</button>
                <img src="logos/ttlogo1.png" id="TTLogo">
                <h1>Thompson Thrift Project Index</h1>
                <h2>Project Info Page</h2>
            </div>
        </a>


        <script>
            function goBack() {
                window.history.back();
            }
        </script>
    </div>

    <div class="ProjectImage">
        <img src="/images/sampleProperty.png" id="propertyImage">
    </div>

    <style>
        #propertyImage {
            display: block;
            margin: auto;
            margin-top: 5rem;
            max-height: 700px;
            max-width: 80%;
        }
    </style>

    <!-- <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
    <script>
        firebaseInit();
        getPropertyImage();
    </script> -->

    <div class="EditButton">
        <button class="button" id="EditButton" onclick="myFunction(this);">Edit</button>

        <script>
            var oldId;
            //Function to toggle the editability of each field
            function myFunction(button) {
                var x = document.getElementById("projectInfo");
                if (x.contentEditable == "true") {
                    x.contentEditable = "false";
                    button.innerHTML = "Edit";
                    updateProject(oldID);
                } else {
                    //Save the old Id in case the user needs to edit it. 
                    //This must delete the old project at that ID
                    oldID = document.getElementById("projectId").innerText
                    x.contentEditable = "true";
                    button.innerHTML = "Save";
                }
            }
        </script>
    </div>

    <div id="accordion" role="tablist" aria-multiselectable="true">
        <div class="card">
            <div class="card-header" role="tab" id="headingOne">
                <h5 class="mb-0">
                    <div data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                        General Info - Name, Location, Type, Status
                    </div>
                </h5>
            </div>

            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
                    <h4 contenteditable="false">Project Title:</h4>

                    <h3 id="projectTitle"></h3>

                    <h4 contenteditable="false">Project ID:</h4>

                    <p id="projectId">

                    </p>

                    <h4 contenteditable="false">Project Type:</h4>

                    <p id="projectType">

                    </p>

                    <h4 contenteditable="false">Date of Completion:</h4>

                    <p id="projectDate">

                    </p>

                    <h4 contenteditable="false">Project Location:</h4>

                    <p id="projectCity">

                    </p>

                    <p id="projectState">

                    </p>

                    <p id="projectZip">

                    </p>

                    <h4 contenteditable="false">Project Status:</h4>

                    <p id="projectStatus">

                    </p>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" role="tab" id="headingTwo">
                <h5 class="mb-0">
                    <div class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Team Info - Leader
                    </div>
                </h5>
            </div>
            <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo">
                <div class="card-block">
                    <h4 contenteditable="false">Project Leader:</h4>

                    <p id="projectLeader">

                    </p>
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" role="tab" id="headingThree">
                <h5 class="mb-0">
                    <div class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Notes
                    </div>
                </h5>
            </div>
            <div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree">
                <h4 contenteditable="false">Project Notes:</h4>

                <p id="ProjectNotes">
                    Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Praesent sapien massa, convallis a pellentesque nec,
                    egestas non nisi. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Sed porttitor lectus
                    nibh.
                </p>
            </div>
        </div>
    </div>

    <div class="ProjectInfo" id='projectInfo'>

        <!--Set image to placeholder in case image does not load  -->

        <!-- <h4 contenteditable="false">Project Title:</h4>

        <h3 id="projectTitle"></h3>

        <h4 contenteditable="false">Project ID:</h4>

        <p id="projectId">

        </p>

        <h4 contenteditable="false">Project Type:</h4>

        <p id="projectType">

        </p>

        <h4 contenteditable="false">Date of Completion:</h4>

        <p id="projectDate">

        </p>

        <h4 contenteditable="false">Project Location:</h4>

        <p id="projectCity">

        </p>

        <p id="projectState">

        </p>

        <p id="projectZip">

        </p> -->

        <!-- <h4 contenteditable="false">Project Status:</h4>

        <p id="projectStatus">

        </p> -->

        <!-- <h4 contenteditable="false">Project Leader:</h4>

        <p id="projectLeader">

        </p> -->

        <!-- <h4 contenteditable="false">Project Notes:</h4>

        <p id="ProjectNotes">
            Nulla porttitor accumsan tincidunt. Nulla porttitor accumsan tincidunt. Praesent sapien massa, convallis a pellentesque nec,
            egestas non nisi. Quisque velit nisi, pretium ut lacinia in, elementum id enim. Sed porttitor lectus nibh.
        </p> -->

        <script>
            firebaseInit();

            keyId = queryString();

            renderSingleProject(keyId);
        </script>

    </div>

</body>

</html>